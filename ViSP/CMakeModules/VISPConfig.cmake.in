#############################################################################
#
# $Id$
#
# Copyright (C) 1998-2010 Inria. All rights reserved.
#
# This software was developed at:
# IRISA/INRIA Rennes
# Projet Lagadic
# Campus Universitaire de Beaulieu
# 35042 Rennes Cedex
# http://www.irisa.fr/lagadic
#
# This file is part of the ViSP toolkit.
#
# This file may be distributed under the terms of the Q Public License
# as defined by Trolltech AS of Norway and appearing in the file
# LICENSE included in the packaging of this file.
#
# Licensees holding valid ViSP Professional Edition licenses may
# use this file in accordance with the ViSP Commercial License
# Agreement provided with the Software.
#
# This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
# WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
#
# Contact visp@irisa.fr if any conditions of this licensing are
# not clear to you.
#
# Description:
# CMake package config file for ViSP.
#
# This file will define the following CMake variables:
# VISP_ROOT_DIR       : ViSP base directory location
# VISP_INCLUDE_DIRS   : ViSP and third-party headers location
# VISP_LIBRARY_DIRS   : ViSP and third-party libraries location
# VISP_LIBRARY        : ViSP library name
# VISP_LIBRARIES      : ViSP and third-party libraries name
# VISP_DEFINITIONS    : Defines required to build ViSP
#
# VISP_SOURCE_DIR     : Location of ViSP source code 
#
# VISP_VERSION_STRING : Full ViSP version, eg 2.4.5
# VISP_VERSION_MAJOR  : Major version part of VISP_VERSION, eg 2. 
# VISP_VERSION_MINOR  : Minor version part of VISP_VERSION, eg 4. 
# VISP_VERSION_PATCH  : Patch version part of VISP_VERSION, eg 5. 
#
# Typical usage in user project:
#   FIND_PACKAGE(VISP)
#   IF (VISP_FOUND)
#     INCLUDE(${VISP_USE_FILE})
#   ENDIF (VISP_FOUND)
#
# Authors:
# Fabien Spindler
#
#############################################################################

SET(VISP_LIBRARY "@VISP_INTERN_LIBS@")

# Set VISP_ROOT_DIR
FIND_PATH(VISP_ROOT_DIR lib/VISPConfig.cmake
  "${VISP_DIR}/.."
)
IF(NOT VISP_ROOT_DIR)
  SET(VISP_ROOT_DIR "${VISP_DIR}/..")
ENDIF()
#MESSAGE("VISP_ROOT_DIR: ${VISP_ROOT_DIR}")

# Set the version numbers
SET(VISP_VERSION_STRING "@VISP_VERSION@")
SET(VISP_VERSION_MAJOR  "@VISP_VERSION_MAJOR@")
SET(VISP_VERSION_MINOR  "@VISP_VERSION_MINOR@")
SET(VISP_VERSION_PATCH  "@VISP_VERSION_PATCH@")

# Tells the user project where to find ViSP headers
SET(VISP_INCLUDE_DIRS "${VISP_ROOT_DIR}/include" CACHE FILEPATH "Location of ViSP includes")
#MESSAGE("VISP_INCLUDE_DIRS: ${VISP_INCLUDE_DIRS}")

# Get ViSP specific definitions
SET(VISP_DEFINITIONS "@VISP_DEFS@")
#MESSAGE("VISP_DEFINITIONS: ${VISP_DEFINITIONS}")

# Tells the user project where to find ViSP third party headers used
# to compile ViSP. These locations are concatenate to VISP_INCLUDE_DIRS
SET(VISP_EXTERN_INCLUDE_DIR "@VISP_EXTERN_INCLUDE_DIR@")
#MESSAGE("VISP_EXTERN_INCLUDE_DIR: ${VISP_EXTERN_INCLUDE_DIR}")
FOREACH(val ${VISP_EXTERN_INCLUDE_DIR})
  LIST(APPEND VISP_INCLUDE_DIRS "${val}")
ENDFOREACH(val ${VISP_EXTERN_INCLUDE_DIR})

#MESSAGE("VISP_INCLUDE_DIRS: ${VISP_INCLUDE_DIRS}")

# Tells the user project where to find ViSP library
SET(VISP_LIBRARY_DIRS "${VISP_ROOT_DIR}/lib" CACHE FILEPATH "Location of ViSP library")

# Tells the user project where to find third party libraries used to
# compile ViSP
SET(VISP_EXTERN_LINK_DIR "@VISP_EXTERN_LINK_DIR@")
#MESSAGE("VISP_EXTERN_LINK_DIR: ${VISP_EXTERN_LINK_DIR}")
FOREACH(val ${VISP_EXTERN_LINK_DIR})
  LIST(APPEND VISP_LIBRARY_DIRS "${val}")
ENDFOREACH(val ${VISP_EXTERN_LINK_DIR})
#MESSAGE("VISP_LIBRARY_DIRS: ${VISP_LIBRARY_DIRS}")

# Tells the user project where to find ViSP build settings
SET(VISP_BUILD_SETTINGS_FILE "${VISP_ROOT_DIR}/lib/VISPBuildSettings.cmake")

# Tell the user project where to find ViSP dependencies
INCLUDE("${VISP_ROOT_DIR}/lib/VISPLibraryDepends.cmake")

# export source dir for doxygen eventually
SET(VISP_SOURCE_DIR "@VISP_SOURCE_DIR@")

# Tells the user project ViSP library name
SET(VISP_LIBRARIES "@VISP_INTERN_LIBS@")

# Tells the user project libraries name used to build ViSP library
SET(VISP_EXTERN_LIBS "@VISP_EXTERN_LIBS@")
FOREACH(val ${VISP_EXTERN_LIBS})
  LIST(APPEND VISP_LIBRARIES "${val}")
ENDFOREACH(val ${VISP_EXTERN_LIBS})
#MESSAGE("VISP_LIBRARIES: ${VISP_LIBRARIES}")

# where to find the USE file to be used by user project
SET(VISP_USE_FILE "${VISP_ROOT_DIR}/lib/VISPUse.cmake")

IF(BUILD_TEST_COVERAGE)
  # Add build options for test coverage. Currently coverage is only supported
  # on gcc compiler 
  # Because using -fprofile-arcs with shared lib can cause problems like:
  # hidden symbol `__bb_init_func', we add this option only for static 
  # library build
  SET(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -ftest-coverage -fprofile-arcs")
ENDIF(BUILD_TEST_COVERAGE)


#
# Remember VISP' third party libs configuration: 
#

SET(VISP_HAVE_X11            "@VISP_HAVE_X11@")
SET(VISP_HAVE_PTHREAD        "@VISP_HAVE_PTHREAD@")
SET(VISP_HAVE_GTK            "@VISP_HAVE_GTK@")
SET(VISP_HAVE_GDI            "@VISP_HAVE_GDI@")
SET(VISP_HAVE_D3D9           "@VISP_HAVE_D3D9@")
SET(VISP_HAVE_GSL            "@VISP_HAVE_GSL@")
SET(VISP_HAVE_OPENCV         "@VISP_HAVE_OPENCV@")
SET(VISP_HAVE_OPENCV_VERSION "@VISP_HAVE_OPENCV_VERSION@")
SET(VISP_HAVE_COIN           "@VISP_HAVE_COIN@")
SET(VISP_HAVE_QT             "@VISP_HAVE_QT@")
SET(VISP_HAVE_SOQT           "@VISP_HAVE_SOQT@")
SET(VISP_HAVE_SOWIN          "@VISP_HAVE_SOWIN@")
SET(VISP_HAVE_SOXT           "@VISP_HAVE_SOXT@")
SET(VISP_HAVE_DC1394_1       "@VISP_HAVE_DC1394_1@")
SET(VISP_HAVE_DC1394_2       "@VISP_HAVE_DC1394_2@")
SET(VISP_HAVE_V4L2           "@VISP_HAVE_V4L2@")
SET(VISP_HAVE_ITIFG8         "@VISP_HAVE_ITIFG8@")
SET(VISP_HAVE_ITIFG8_VERSION "@VISP_HAVE_ITIFG8_VERSION_DOXY@")
SET(VISP_HAVE_DIRECTSHOW     "@VISP_HAVE_DIRECTSHOW@")
SET(VISP_HAVE_AFMA4          "@VISP_HAVE_AFMA4@")
SET(VISP_HAVE_AFMA6          "@VISP_HAVE_AFMA6@")
SET(VISP_HAVE_BICLOPS        "@VISP_HAVE_BICLOPS@")
SET(VISP_HAVE_PTU46          "@VISP_HAVE_PTU46@")
SET(VISP_HAVE_VIPER850       "@VISP_HAVE_VIPER850@")
SET(VISP_HAVE_CYCAB          "@VISP_HAVE_CYCAB@")
SET(VISP_HAVE_CYCABTK        "@VISP_HAVE_CYCABTK@")
SET(VISP_HAVE_CYCABTK_OLD    "@VISP_HAVE_CYCABTK_OLD@")
SET(VISP_HAVE_PARPORT        "@VISP_HAVE_PARPORT@")
SET(VISP_HAVE_XML2           "@VISP_HAVE_XML2@")
SET(VISP_HAVE_LIBPLOTTER     "@VISP_HAVE_LIBPLOTTER@")
SET(VISP_HAVE_LIBJPEG        "@VISP_HAVE_LIBJPEG@")
SET(VISP_HAVE_LIBPNG         "@VISP_HAVE_LIBPNG@")
SET(VISP_HAVE_LIBFFMPEG      "@VISP_HAVE_FFMPEG@")
